

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Software Development Kit &mdash; software-factory 0.1.0-564e88a 2017-10-04 documentation</title>
  

  
  

  

  
  
    

  

  
  
    <link rel="stylesheet" href="../../_static/css/theme.css" type="text/css" />
  

  

  
        <link rel="index" title="Index"
              href="../../genindex.html"/>
        <link rel="search" title="Search" href="../../search.html"/>
    <link rel="top" title="software-factory 0.1.0-564e88a 2017-10-04 documentation" href="../../index.html"/>
        <link rel="next" title="C/C++ templates" href="../../swf-blueprint/docs/articles/templates/index.html"/>
        <link rel="prev" title="Continuous integration and deployment" href="../ci-and-cd/index.html"/> 

  
  <script src="../../_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="../../index.html" class="icon icon-home"> software-factory
          

          
          </a>

          
            
            
              <div class="version">
                0.1.0
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
                <p class="caption"><span class="caption-text">Table of contents:</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../intro/index.html">Introduction</a></li>
<li class="toctree-l1"><a class="reference internal" href="../workflow/index.html">Git workflow</a></li>
<li class="toctree-l1"><a class="reference internal" href="../baseplatform/index.html">Base Platform</a></li>
<li class="toctree-l1"><a class="reference internal" href="../ci-and-cd/index.html">Continuous integration and deployment</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Software Development Kit</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#downloading-and-installing-the-sdk">Downloading and installing the SDK</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#installing-the-sdk">Installing the SDK</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#using-the-sdk-to-cross-compile">Using the SDK to cross compile</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#sourcing-environment">Sourcing Environment</a></li>
<li class="toctree-l3"><a class="reference internal" href="#cross-compiling">Cross Compiling</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#deploying-and-running-a-binary-executable-on-target">Deploying and running a binary executable on target</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../swf-blueprint/docs/articles/templates/index.html">C/C++ templates</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../swf-blueprint/docs/articles/licensing/index.html">Licensing</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href="../../index.html">software-factory</a>
      </nav>


      
      <div class="wy-nav-content">
        <div class="rst-content">
          

 



<div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="../../index.html">Docs</a> &raquo;</li>
      
    <li>Software Development Kit</li>
      <li class="wy-breadcrumbs-aside">
        
          
            <a href="../../_sources/chapters/sdk/index.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="software-development-kit">
<h1>Software Development Kit<a class="headerlink" href="#software-development-kit" title="Permalink to this headline">¶</a></h1>
<p>PELUX provides a Software Development Kit (SDK), for quick and easy development of software
components for a PELUX (or PELUX-based) system. The SDK is mainly targeted towards service
implementers but can be used for developing applications and other kinds of software components as
well. The SDK installer script can be downloaded from <a class="reference external" href="http://pelux.io/downloads">PELUX website</a>. Each SDK installer is for a
specific target hardware platform.</p>
<div class="section" id="downloading-and-installing-the-sdk">
<h2>Downloading and installing the SDK<a class="headerlink" href="#downloading-and-installing-the-sdk" title="Permalink to this headline">¶</a></h2>
<p>Download the SDK for your hardware from the <a class="reference external" href="http://pelux.io/downloads">PELUX website</a>. The SDK is a very huge file as it
contains the whole sysroot for the project in addition to some native tools. Depending on the
internet connectivity speed it could take a while.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Note that the version number at the end of the SDK download file is not the version of the SDK but in fact the version number of poky, which is the upstream Yocto distribution PELUX is using.</p>
</div>
<div class="section" id="installing-the-sdk">
<span id="installing-sdk"></span><h3>Installing the SDK<a class="headerlink" href="#installing-the-sdk" title="Permalink to this headline">¶</a></h3>
<p>The SDK file is not executable by default. This needs to be changed with <cite>chmod</cite>. If you downloaded
the SDK from the internet, the <code class="docutils literal"><span class="pre">&lt;SDK</span> <span class="pre">location&gt;</span></code> is typically <code class="docutils literal"><span class="pre">~/Downloads</span></code>.</p>
<div class="highlight-bash"><div class="highlight"><pre><span></span><span class="nb">cd</span> &lt;SDK location&gt;
chmod +x poky-glibc-x86_64-&lt;image-name&gt;-&lt;arch&gt;-toolchain-&lt;version&gt;.sh
</pre></div>
</div>
<p>It is a self extracting shell script which can be executed. This will start an interactive program
which first asks where to install the SDK. The easiest way is to install it in your <cite>home</cite> directory
in it’s own directory, like <cite>~/sdk</cite>, instead of the default which is <cite>/opt</cite>. <cite>/opt</cite> is most probably
not prepared for your user to install anything into.</p>
<p>Example:</p>
<div class="highlight-bash"><div class="highlight"><pre><span></span>➜ jdoe@tux Downloads ./poky-glibc-x86_64-core-image-pelux-qt-corei7-64-toolchain-2.2.1.sh
Poky <span class="o">(</span>Yocto Project Reference Distro<span class="o">)</span> SDK installer version <span class="m">2</span>.2.1
<span class="o">=================================================================</span>
Enter target directory <span class="k">for</span> SDK <span class="o">(</span>default: /opt/poky/2.2.1<span class="o">)</span>: ~/sdk
You are about to install the SDK to <span class="s2">&quot;/home/jdoe/sdk&quot;</span>. Proceed<span class="o">[</span>Y/n<span class="o">]</span>? Y
Extracting SDK.............done
Setting it up...done
SDK has been successfully <span class="nb">set</span> up and is ready to be used.
</pre></div>
</div>
<p>Now the SDK is installed and can be used.</p>
</div>
</div>
<div class="section" id="using-the-sdk-to-cross-compile">
<h2>Using the SDK to cross compile<a class="headerlink" href="#using-the-sdk-to-cross-compile" title="Permalink to this headline">¶</a></h2>
<p>Cross compiling with the help of the SDK is not much different from normal compilation. There are
some more pitfalls, but let’s get on with the happy cases for now.</p>
<div class="section" id="sourcing-environment">
<h3>Sourcing Environment<a class="headerlink" href="#sourcing-environment" title="Permalink to this headline">¶</a></h3>
<p>After the installation the SDK it needs to be sourced. This means that the SDK toolchain and the
sysroot environment variables will be set in your active terminal session.</p>
<div class="highlight-bash"><div class="highlight"><pre><span></span><span class="nb">cd</span> ~/sdk
<span class="nb">source</span> environment-setup-&lt;arch&gt;-poky-linux
</pre></div>
</div>
<p>To check if the environment has already been sourced grep for variables which start with <cite>OECORE</cite> in
the environment for example like this:</p>
<div class="highlight-bash"><div class="highlight"><pre><span></span>env <span class="p">|</span> grep OECORE
<span class="nv">OECORE_DISTRO_VERSION</span><span class="o">=</span><span class="m">2</span>.2.1
<span class="nv">OECORE_SDK_VERSION</span><span class="o">=</span><span class="m">2</span>.2.1
</pre></div>
</div>
<p>This means that the environment has been sourced.</p>
</div>
<div class="section" id="cross-compiling">
<h3>Cross Compiling<a class="headerlink" href="#cross-compiling" title="Permalink to this headline">¶</a></h3>
<p>In the easiest case, when all the projects dependencies are already installed in the SDK,
crosscompiling is really easy. Navigate in to the directory and use cmake and make to compile it as
you normally would The environment will make sure that the right compiler and cmake will be used.</p>
</div>
</div>
<div class="section" id="deploying-and-running-a-binary-executable-on-target">
<h2>Deploying and running a binary executable on target<a class="headerlink" href="#deploying-and-running-a-binary-executable-on-target" title="Permalink to this headline">¶</a></h2>
<p>Once you have a cross compiled binary file, it needs to be installed on the target. To do so the
easiest way is to use SSH. For that to work you need to know the IP address of your target.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">If you don’t know the IP address of your target, the <a class="reference external" href="https://www.raspberrypi.org/documentation/remote-access/ip-address.md">Raspberry Pi documentation</a> describes how to find a new device on the network. This can be used for any target, not just Raspberry Pi</p>
</div>
<p>The default user on the PELUX image is <cite>root</cite> and it doesn’t ask for a password logging in via SSH.
Use <cite>scp</cite> to copy your binary to the target.</p>
<div class="highlight-bash"><div class="highlight"><pre><span></span>scp build/<span class="p">|</span>example-sdk-binary<span class="p">|</span> root@&lt;ip address&gt;:
</pre></div>
</div>
<p>Now that the binary file has been copied to the target it can be run there.</p>
<div class="highlight-bash"><div class="highlight"><pre><span></span>ssh root@&lt;ip address&gt;
./<span class="p">|</span>example-sdk-binary<span class="p">|</span>
</pre></div>
</div>
</div>
</div>


           </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="../../swf-blueprint/docs/articles/templates/index.html" class="btn btn-neutral float-right" title="C/C++ templates" accesskey="n">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="../ci-and-cd/index.html" class="btn btn-neutral" title="Continuous integration and deployment" accesskey="p"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright Pelagicore AB.

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'../../',
            VERSION:'0.1.0-564e88a 2017-10-04',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true
        };
    </script>
      <script type="text/javascript" src="../../_static/jquery.js"></script>
      <script type="text/javascript" src="../../_static/underscore.js"></script>
      <script type="text/javascript" src="../../_static/doctools.js"></script>

  

  
  
    <script type="text/javascript" src="../../_static/js/theme.js"></script>
  

  
  
  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();
      });
  </script>
   

</body>
</html>